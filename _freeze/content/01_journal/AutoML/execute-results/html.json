{
  "hash": "05891b849836dc5111a12c9a3c9ec3e9",
  "result": {
    "markdown": "---\ntitle: \"AutoML with H2O and GGally\"\nauthor: \"Fadel Victor Shanaa\"\n---\n\n\n**Challenge Description:**\n\n***Use your learning from descriptive features and plot_ggpairs() to further investigate the features. Run the functions above according to the features needed.***\n\n***Answer the questions at the bottom. Most of the time, you will only need the images from diagonal.***\n\n**Code Base**\n\n\n::: {.cell hash='AutoML_cache/html/unnamed-chunk-1_9a0bf42437606f74ecbef6c882eae843'}\n\n```{.r .cell-code}\n# Load libraries\nsuppressMessages(library(h2o))\nsuppressMessages(library(GGally))\nsuppressMessages(library(tidyverse))\n\n# Load and glimpse attrition data\nemployee_attrition_table <- read.csv(\"C:\\\\Users\\\\fvsha\\\\Documents\\\\GitHub\\\\ss23-bdml-VictorReaver1999\\\\AutoML\\\\HR-Employee-Attrition.txt\")\nemployee_attrition_table %>% glimpse()\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n#> Rows: 1,470\n#> Columns: 35\n#> $ Age                      <int> 41, 49, 37, 33, 27, 32, 59, 30, 38, 36, 35, 2…\n#> $ Attrition                <chr> \"Yes\", \"No\", \"Yes\", \"No\", \"No\", \"No\", \"No\", \"…\n#> $ BusinessTravel           <chr> \"Travel_Rarely\", \"Travel_Frequently\", \"Travel…\n#> $ DailyRate                <int> 1102, 279, 1373, 1392, 591, 1005, 1324, 1358,…\n#> $ Department               <chr> \"Sales\", \"Research & Development\", \"Research …\n#> $ DistanceFromHome         <int> 1, 8, 2, 3, 2, 2, 3, 24, 23, 27, 16, 15, 26, …\n#> $ Education                <int> 2, 1, 2, 4, 1, 2, 3, 1, 3, 3, 3, 2, 1, 2, 3, …\n#> $ EducationField           <chr> \"Life Sciences\", \"Life Sciences\", \"Other\", \"L…\n#> $ EmployeeCount            <int> 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, …\n#> $ EmployeeNumber           <int> 1, 2, 4, 5, 7, 8, 10, 11, 12, 13, 14, 15, 16,…\n#> $ EnvironmentSatisfaction  <int> 2, 3, 4, 4, 1, 4, 3, 4, 4, 3, 1, 4, 1, 2, 3, …\n#> $ Gender                   <chr> \"Female\", \"Male\", \"Male\", \"Female\", \"Male\", \"…\n#> $ HourlyRate               <int> 94, 61, 92, 56, 40, 79, 81, 67, 44, 94, 84, 4…\n#> $ JobInvolvement           <int> 3, 2, 2, 3, 3, 3, 4, 3, 2, 3, 4, 2, 3, 3, 2, …\n#> $ JobLevel                 <int> 2, 2, 1, 1, 1, 1, 1, 1, 3, 2, 1, 2, 1, 1, 1, …\n#> $ JobRole                  <chr> \"Sales Executive\", \"Research Scientist\", \"Lab…\n#> $ JobSatisfaction          <int> 4, 2, 3, 3, 2, 4, 1, 3, 3, 3, 2, 3, 3, 4, 3, …\n#> $ MaritalStatus            <chr> \"Single\", \"Married\", \"Single\", \"Married\", \"Ma…\n#> $ MonthlyIncome            <int> 5993, 5130, 2090, 2909, 3468, 3068, 2670, 269…\n#> $ MonthlyRate              <int> 19479, 24907, 2396, 23159, 16632, 11864, 9964…\n#> $ NumCompaniesWorked       <int> 8, 1, 6, 1, 9, 0, 4, 1, 0, 6, 0, 0, 1, 0, 5, …\n#> $ Over18                   <chr> \"Y\", \"Y\", \"Y\", \"Y\", \"Y\", \"Y\", \"Y\", \"Y\", \"Y\", …\n#> $ OverTime                 <chr> \"Yes\", \"No\", \"Yes\", \"Yes\", \"No\", \"No\", \"Yes\",…\n#> $ PercentSalaryHike        <int> 11, 23, 15, 11, 12, 13, 20, 22, 21, 13, 13, 1…\n#> $ PerformanceRating        <int> 3, 4, 3, 3, 3, 3, 4, 4, 4, 3, 3, 3, 3, 3, 3, …\n#> $ RelationshipSatisfaction <int> 1, 4, 2, 3, 4, 3, 1, 2, 2, 2, 3, 4, 4, 3, 2, …\n#> $ StandardHours            <int> 80, 80, 80, 80, 80, 80, 80, 80, 80, 80, 80, 8…\n#> $ StockOptionLevel         <int> 0, 1, 0, 0, 1, 0, 3, 1, 0, 2, 1, 0, 1, 1, 0, …\n#> $ TotalWorkingYears        <int> 8, 10, 7, 8, 6, 8, 12, 1, 10, 17, 6, 10, 5, 3…\n#> $ TrainingTimesLastYear    <int> 0, 3, 3, 3, 3, 2, 3, 2, 2, 3, 5, 3, 1, 2, 4, …\n#> $ WorkLifeBalance          <int> 1, 3, 3, 3, 3, 2, 2, 3, 3, 2, 3, 3, 2, 3, 3, …\n#> $ YearsAtCompany           <int> 6, 10, 0, 8, 2, 7, 1, 1, 9, 7, 5, 9, 5, 2, 4,…\n#> $ YearsInCurrentRole       <int> 4, 7, 0, 7, 2, 7, 0, 0, 7, 7, 4, 5, 2, 2, 2, …\n#> $ YearsSinceLastPromotion  <int> 0, 1, 0, 3, 2, 3, 0, 0, 1, 7, 0, 0, 4, 1, 0, …\n#> $ YearsWithCurrManager     <int> 5, 7, 0, 0, 2, 6, 0, 0, 8, 7, 3, 8, 3, 2, 3, …\n```\n:::\n\n```{.r .cell-code}\n# Create function given in Business Data Case\nplot_ggpairs <- function(data, color = NULL, density_alpha = 0.5) {\n  \n  color_expr <- enquo(color)\n  \n  if (rlang::quo_is_null(color_expr)) {\n    \n    g <- data %>%\n      ggpairs(lower = \"blank\") \n    \n  } else {\n    \n    color_name <- quo_name(color_expr)\n    \n    g <- data %>%\n      ggpairs(mapping = aes_string(color = color_name), \n              lower = \"blank\", legend = 1,\n              diag = list(continuous = wrap(\"densityDiag\", \n                                            alpha = density_alpha))) +\n      theme(legend.position = \"bottom\")\n  }\n  \n  return(g)\n  \n}\n\n# Create the plot\nemp_att_plot <- employee_attrition_table %>%\n  select(Attrition, MonthlyIncome, PercentSalaryHike, StockOptionLevel, EnvironmentSatisfaction, WorkLifeBalance, JobInvolvement, OverTime, TrainingTimesLastYear, YearsAtCompany, YearsSinceLastPromotion) %>%\n  plot_ggpairs(color = Attrition)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n#> Warning: `aes_string()` was deprecated in ggplot2 3.0.0.\n#> ℹ Please use tidy evaluation idioms with `aes()`.\n#> ℹ See also `vignette(\"ggplot2-in-packages\")` for more information.\n```\n:::\n\n```{.r .cell-code}\n# Save the plot\nggsave(\"emp_att_plot.png\", emp_att_plot, width = 15, height = 15)\n\n# Display the plot\nemp_att_plot\n```\n\n::: {.cell-output-display}\n![](AutoML_files/figure-html/unnamed-chunk-1-1.png){width=672}\n:::\n:::\n\n\n**Challenge Questions**\n\n1. Compensation Features\n\n  **What can you deduce about the interaction between Monthly Income and Attrition?**\n  \n  **Answer:** \n  \n  c. Those that are leaving have a lower Monthly Income\n\n\n2. Compensation Features\n\n  **What can you deduce about the interaction between Percent Salary Hike and Attrition?**\n  \n  **Answer:** \n  \n  d. It's difficult to deduce anything based on the visualization\n\n\n3. Compensation Features\n\n  **What can you deduce about the interaction between Stock Option Level and Attrition?**\n  \n  **Answer:** \n  \n  b. Those that are staying have a higher stock option level\n\n\n4. Survey Results\n\n  **What can you deduce about the interaction between Environment Satisfaction and Attrition?**\n \n  **Answer:** \n  \n  a. A higher proportion of those leaving have a low environment satisfaction level\n  \n  \n5. Survey Results\n\n  **What can you deduce about the interaction between Work Life Balance and Attrition?**\n  \n  **Answer:** \n  \n  b. Those that are staying have a higher density of 2's and 3'\n  \n  \n6. Performance Data\n\n  **What Can you deduce about the interaction between Job Involvement and Attrition?**\n  \n  **Answer:** \n  \n  a. Those that are leaving have a lower density of 3's and 4's\n  \n  \n7. Work-Life Features\n\n  **What can you deduce about the interaction between Over Time and Attrition?**\n  \n  **Answer:** \n  \n  a. The proportion of those leaving that are working Over Time are high compared to those that are not leaving\n  \n  \n8. Training and Education\n\n  **What can you deduce about the interaction between Training Times Last Year and Attrition?**\n  \n  **Answer:** \n  \n  c. It's difficult to deduce anything based on the visualization\n  \n  \n9. Time-Based Features\n\n  **What can you deduce about the interaction between Years At Company and Attrition?**\n  \n  **Answer:** \n  \n  b. People that leave tend to have less working years at the company\n\n\n10. Time-Based Features\n\n  **What can you deduce about the interaction between Years Since Last Promotion and Attrition?**\n  \n  **Answer:** \n  \n  c. It's difficult to deduce anything based on the visualization\n\n\n**End of AutoML Challenge**",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<link href=\"../../site_libs/pagedtable-1.1/css/pagedtable.css\" rel=\"stylesheet\" />\r\n<script src=\"../../site_libs/pagedtable-1.1/js/pagedtable.js\"></script>\r\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}